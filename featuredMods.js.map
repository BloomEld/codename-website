{"version":3,"file":"featuredMods.uncompressed.js","names":["setModsArray","modsArray","nodes","parent","parentNode","fragment","document","createDocumentFragment","i","length","appendChild","cloneNode","element","firstChild","removeChild","clearElement","sortByTime","a","b","aTime","getAttribute","bTime","aDate","Date","getTime","bDate","recentOrder","mods","querySelectorAll","Array","from","sort","sortButtons","orderButtons","categoryButtons","forEach","button","addEventListener","e","preventDefault","j","Math","floor","random","temp","randomizeOrder","classList","remove","add","mod","display","contains","style","lastUpdated","window","Intl","time","textContent","date","lang","timeMs","deltaSeconds","round","now","cutoffs","Infinity","unitIndex","findIndex","cutoff","abs","divisor","RelativeTimeFormat","numeric","format","getRelativeTimeString"],"sources":["featuredMods.uncompressed.js"],"sourcesContent":["(function () {\n\"use strict\";\nfunction randomizeOrder() {\n\tvar mods = document.querySelectorAll(\".featured-mod\");\n\tvar modsArray = Array.from(mods);\n\n\tfor (var i = modsArray.length - 1; i > 0; i--) {\n\t\tvar j = Math.floor(Math.random() * (i + 1));\n\t\tvar temp = modsArray[i];\n\t\tmodsArray[i] = modsArray[j];\n\t\tmodsArray[j] = temp;\n\t}\n\n\tsetModsArray(modsArray, mods);\n}\n\nfunction setModsArray(modsArray, nodes) {\n\tvar parent = nodes[0].parentNode;\n\tvar fragment = document.createDocumentFragment();\n\tfor (var i = 0; i < modsArray.length; i++) {\n\t\tfragment.appendChild(modsArray[i].cloneNode(true));\n\t}\n\tclearElement(parent);\n\tparent.appendChild(fragment);\n}\n\nfunction clearElement(element) {\n\twhile (element.firstChild) {\n\t\telement.removeChild(element.firstChild);\n\t}\n}\n\nfunction sortByTime(a, b) {\n\tvar aTime = a.getAttribute(\"data-time\");\n\tvar bTime = b.getAttribute(\"data-time\");\n\n\tif (!aTime) return 1;           // Push null to the bottom\n\tif (!bTime) return -1;\n\tif (aTime === \"unreleased\") return 1;  // Push \"unreleased\" to the bottom\n\tif (bTime === \"unreleased\") return -1;\n\tif (aTime === \"unknown\") return 1;     // Push \"unknown\" to the bottom\n\tif (bTime === \"unknown\") return -1;\n\n\tvar aDate = new Date(aTime).getTime();\n\tvar bDate = new Date(bTime).getTime();\n\n\tif (aDate === bDate) return 0;\n\treturn bDate > aDate ? 1 : -1;\n}\n\nfunction recentOrder() {\n\tvar mods = document.querySelectorAll(\".featured-mod\");\n\tvar modsArray = Array.from(mods);\n\n\tmodsArray.sort(sortByTime);\n\n\tsetModsArray(modsArray, mods);\n}\n\nvar sortButtons = document.querySelectorAll(\".sort-button\");\nvar orderButtons = document.querySelectorAll(\".order-button\");\nvar categoryButtons = document.querySelectorAll(\".category-button\");\nsortButtons.forEach(button => {\n\tbutton.addEventListener(\"click\", function(e) {\n\t\te.preventDefault();\n\t\tvar sort = button.getAttribute(\"data-sort\");\n\t\tif(sort == \"recent\" || sort == \"random\") {\n\t\t\tif(sort == \"random\") {\n\t\t\t\trandomizeOrder();\n\t\t\t} else {\n\t\t\t\trecentOrder();\n\t\t\t}\n\n\t\t\torderButtons.forEach(button => {\n\t\t\t\tbutton.classList.remove(\"selected\");\n\t\t\t});\n\t\t\tbutton.classList.add(\"selected\");\n\t\t} else {\n\t\t\tvar mods = document.querySelectorAll(\".featured-mod\");\n\t\t\tif(sort == \"all\") {\n\t\t\t\tmods.forEach(mod => {\n\t\t\t\t\tvar display;\n\t\t\t\t\tif(mod.classList.contains(\"upcoming\")) {\n\t\t\t\t\t\tdisplay = \"none\";\n\t\t\t\t\t} else {\n\t\t\t\t\t\tdisplay = \"block\";\n\t\t\t\t\t}\n\t\t\t\t\tmod.style.display = display;\n\t\t\t\t});\n\t\t\t} else {\n\t\t\t\tmods.forEach(mod => {\n\t\t\t\t\tmod.style.display = \"none\";\n\t\t\t\t});\n\t\t\t\tdocument.querySelectorAll(\".featured-mod.\" + sort).forEach(mod => {\n\t\t\t\t\tvar display;\n\t\t\t\t\tif(sort != \"upcoming\" && mod.classList.contains(\"upcoming\")) {\n\t\t\t\t\t\tdisplay = \"none\";\n\t\t\t\t\t} else {\n\t\t\t\t\t\tdisplay = \"block\";\n\t\t\t\t\t}\n\t\t\t\t\tmod.style.display = display;\n\t\t\t\t});\n\t\t\t}\n\n\t\t\tcategoryButtons.forEach(button => {\n\t\t\t\tbutton.classList.remove(\"selected\");\n\t\t\t});\n\t\t\tbutton.classList.add(\"selected\");\n\t\t}\n\t});\n});\n\nrecentOrder();\n\nfunction getRelativeTimeString(\n\tdate, // Date | number\n\tlang = \"en\" // navigator.language\n) {\n\tvar timeMs = typeof date === \"number\" ? date : date.getTime();\n\tvar deltaSeconds = Math.round((timeMs - Date.now()) / 1000);\n\tvar cutoffs = [60, 3600, 86400, 86400 * 7, 86400 * 30, 86400 * 365, Infinity];\n\tvar units = [\"second\", \"minute\", \"hour\", \"day\", \"week\", \"month\", \"year\"];\n\tvar unitIndex = cutoffs.findIndex(cutoff => cutoff > Math.abs(deltaSeconds));\n\tvar divisor = unitIndex ? cutoffs[unitIndex - 1] : 1;\n\tvar rtf = new Intl.RelativeTimeFormat(lang, { numeric: \"auto\" });\n\treturn rtf.format(Math.floor(deltaSeconds / divisor), units[unitIndex]);\n}\n\nvar lastUpdated = document.querySelectorAll(\".last-updated\");\nif(lastUpdated.length > 0 && window.Intl) {\n\tlastUpdated.forEach(lastUpdated => {\n\t\tvar time = lastUpdated.getAttribute(\"data-time\");\n\t\tif(time == \"unreleased\") {\n\t\t\tlastUpdated.style.display = \"inline\";\n\t\t} else if(time != \"unknown\" && time) {\n\t\t\tlastUpdated.textContent = getRelativeTimeString(new Date(time));\n\t\t\tlastUpdated.style.display = \"inline\";\n\t\t}\n\t});\n}\n})();"],"mappings":"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","ignoreList":[]}