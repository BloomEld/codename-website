(()=>{function d(){for(var e=document.querySelectorAll(".featured-mod"),t=e[0].parentNode,n=Array.from(e),r=n.length-1;0<r;r--){var o=Math.floor(Math.random()*(r+1)),l=n[r];n[r]=n[o],n[o]=l}for(var a=document.createDocumentFragment(),r=0;r<n.length;r++)a.appendChild(n[r].cloneNode(!0));u(t),t.appendChild(a)}function u(e){for(;e.firstChild;)e.removeChild(e.firstChild)}function c(e,t){var e=e.getAttribute("data-time"),t=t.getAttribute("data-time");return null==e?1:null==t?-1:"unreleased"===e?1:"unreleased"===t?-1:"unknown"===e?1:"unknown"===t?-1:(e=new Date(e).getTime())===(t=new Date(t).getTime())?0:e<t?1:-1}var e=document.querySelectorAll(".sort-button"),i=document.querySelectorAll(".order-button"),s=document.querySelectorAll(".category-button");e.forEach(a=>{a.addEventListener("click",function(e){e.preventDefault();var t=a.getAttribute("data-sort");if("recent"==t||"random"==t){if("random"==t)d();else{for(var e=document.querySelectorAll(".featured-mod"),n=e[0].parentNode,r=Array.from(e),o=(r.sort(c),document.createDocumentFragment()),l=0;l<r.length;l++)o.appendChild(r[l].cloneNode(!0));u(n),n.appendChild(o)}i.forEach(e=>{e.classList.remove("selected")})}else"all"==t?document.querySelectorAll(".featured-mod").forEach(e=>{e.classList.contains("upcoming")?e.style.display="none":e.style.display="block"}):(document.querySelectorAll(".featured-mod").forEach(e=>{e.style.display="none"}),document.querySelectorAll(".featured-mod."+t).forEach(e=>{"upcoming"!=t&&e.classList.contains("upcoming")?e.style.display="none":e.style.display="block"})),s.forEach(e=>{e.classList.remove("selected")});a.classList.add("selected")})}),d(),0<(e=document.querySelectorAll(".last-updated")).length&&window.Intl&&e.forEach(e=>{var t=e.getAttribute("data-time");"unknown"!=t&&null!=t&&"unreleased"!=t&&(e.innerText=((e,t="en")=>{e="number"==typeof e?e:e.getTime();let n=Math.round((e-Date.now())/1e3);var r=(e=[60,3600,86400,604800,2592e3,31536e3,1/0]).findIndex(e=>e>Math.abs(n)),e=r?e[r-1]:1;return new Intl.RelativeTimeFormat(t,{numeric:"auto"}).format(Math.floor(n/e),["second","minute","hour","day","week","month","year"][r])})(new Date(t)),e.style.display="inline"),"unreleased"==t&&(e.style.display="inline")})})();