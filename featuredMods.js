(()=>{"use strict";function e(){for(var e=document.querySelectorAll(".featured-mod"),r=e[0].parentNode,n=Array.from(e),o=n.length-1;o>0;o--){var a=Math.floor(Math.random()*(o+1)),l=n[o];n[o]=n[a],n[a]=l}var d=document.createDocumentFragment();for(o=0;o<n.length;o++)d.appendChild(n[o].cloneNode(!0));t(r),r.appendChild(d)}function t(e){for(;e.firstChild;)e.removeChild(e.firstChild)}function r(e,t){var r=e.getAttribute("data-time"),n=t.getAttribute("data-time");if(null==r)return 1;if(null==n)return-1;if("unreleased"===r)return 1;if("unreleased"===n)return-1;if("unknown"===r)return 1;if("unknown"===n)return-1;var o=new Date(r).getTime(),a=new Date(n).getTime();return o===a?0:a>o?1:-1}var n=document.querySelectorAll(".sort-button"),o=document.querySelectorAll(".order-button"),a=document.querySelectorAll(".category-button");n.forEach((n=>{n.addEventListener("click",(l=>{l.preventDefault();var d=n.getAttribute("data-sort");"recent"==d||"random"==d?("random"==d?e():(()=>{var e=document.querySelectorAll(".featured-mod"),n=e[0].parentNode,o=Array.from(e);o.sort(r);for(var a=document.createDocumentFragment(),l=0;l<o.length;l++)a.appendChild(o[l].cloneNode(!0));t(n),n.appendChild(a)})(),o.forEach((e=>{e.classList.remove("selected")})),n.classList.add("selected")):("all"==d?document.querySelectorAll(".featured-mod").forEach((e=>{e.classList.contains("upcoming")?e.style.display="none":e.style.display="block"})):(document.querySelectorAll(".featured-mod").forEach((e=>{e.style.display="none"})),document.querySelectorAll(".featured-mod."+d).forEach((e=>{"upcoming"!=d&&e.classList.contains("upcoming")?e.style.display="none":e.style.display="block"}))),a.forEach((e=>{e.classList.remove("selected")})),n.classList.add("selected"))}))})),e();var l=document.querySelectorAll(".last-updated");l.length>0&&window.Intl&&l.forEach((e=>{var t=e.getAttribute("data-time");"unknown"!=t&&null!=t&&"unreleased"!=t&&(e.innerText=((e,t="en")=>{const r="number"==typeof e?e:e.getTime(),n=Math.round((r-Date.now())/1e3),o=[60,3600,86400,604800,2592e3,31536e3,1/0],a=o.findIndex((e=>e>Math.abs(n))),l=a?o[a-1]:1;return new Intl.RelativeTimeFormat(t,{numeric:"auto"}).format(Math.floor(n/l),["second","minute","hour","day","week","month","year"][a])})(new Date(t)),e.style.display="inline"),"unreleased"==t&&(e.style.display="inline")}))})();