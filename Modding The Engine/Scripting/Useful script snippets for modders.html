<h1>Useful script snippets for modders</h1>
<p>Some features don't exist in our engine, luckily, we can script them in!</p>
<h2>Song Scripts</h2>
<p>idk bro</p>
<h2>Global Scripts</h2>
<h3>Replace pre-existing states with custom states.</h3>
<pre><code class="language-hx">var redirectStates:Map&lt;FlxState, String&gt; = [
    TitleState =&gt; &quot;CustomTitleState&quot;
];

function preStateSwitch() {
    for (redirectState in redirectStates.keys()) 
        if (Std.isOfType(FlxG.game._requestedState, redirectState)) 
            FlxG.game._requestedState = new ModState(redirectStates.get(redirectState));
}
</code></pre>
<h3>Animated Icons support.</h3>
<pre><code class="language-haxe">function update(elapsed) {
    for (i in FlxG.state.members)
        if (Std.isOfType(i, HealthIcon))
            if (Assets.exists(Path.withoutExtension(Paths.image(&quot;icons/&quot;+i.curCharacter)) + &quot;.xml&quot;) &amp;&amp; i.frames.frames[0].name != &quot;losing0000&quot;) {
                i.frames = Paths.getFrames(&quot;icons/&quot;+i.curCharacter);
                i.animation.addByPrefix(&quot;losing&quot;, &quot;losing&quot;, 24, true);
                i.animation.addByPrefix(&quot;normal&quot;, &quot;normal&quot;, 24, true); 
                i.animation.play(&quot;normal&quot;, true);
                i.curAnimState = -1;
            }
}
function onHealthIconAnimChange(e) {
    if (e.healthIcon.animation.exists(&quot;normal&quot;)) {
        e.cancel();
        e.healthIcon.animation.play(e.amount == 0 ? 'normal' : 'losing', true);  
    }
}
</code></pre>
<h3>to be filled with other snippets</h3>
