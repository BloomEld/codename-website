(()=>{function e(e){return new Promise(((t,n)=>{var r=new FileReader;r.onload=()=>t(r.result),r.onerror=n,r.readAsText(e)}))}document.getElementById("event-packer-form").addEventListener("submit",(t=>{t.preventDefault();var n,r=document.getElementById("event-file").files[0],a=document.getElementById("event-params").files[0],o=document.getElementById("event-image").files[0],d=[e(r),e(a)];o&&d.push((n=o,new Promise(((e,t)=>{var r=new FileReader;r.onload=()=>{if(n.name.endsWith(".png"))e(r.result.split(",")[1]);else{var a=new Image;a.onload=()=>{var t=document.createElement("canvas");t.width=a.width,t.height=a.height,t.getContext("2d").drawImage(a,0,0);var n=t.toDataURL("image/png");e(n.split(",")[1])},a.onerror=t,a.src=r.result}},r.onerror=t,r.readAsDataURL(n)})))),Promise.all(d).then((([e,t,n])=>{var a,o,d,l,i=[r.name,e,t];n&&i.push(n),a=i.join("________PACKSEP________"),o=r.name.replace(/\.(hx|hscript|hxs|hsc)$/,".pack"),d=new Blob([a],{type:"text/plain;charset=utf-8"}),(l=document.createElement("a")).href=URL.createObjectURL(d),l.download=o,document.body.appendChild(l),l.click(),document.body.removeChild(l)})).catch((e=>console.error("Error processing files:",e)))}))})();