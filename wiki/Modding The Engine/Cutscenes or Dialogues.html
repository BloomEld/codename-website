<!DOCTYPE html><html lang="en"><head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Cutscenes or Dialogues - Codename Engine Docs</title>
    <link rel="stylesheet" href="/style.css">
    <link rel="stylesheet" href="/wiki.css">
</head>
<body>
    <div class="header">
        <header>
    <a href="/">
        <img src="/img/logo-header.png" style="width: 50px;">
        <h2 class="mobile">CNE</h2>
        <h2 class="desktop">Codename Engine</h2>
    </a>
    <h2>Cutscenes or Dialogues</h2>
    <div>
        <a href="/api-docs/">API Docs</a><a href="/wiki/">Wiki</a>
    </div>
</header>
    </div>
    <div class="container">
        <div class="sidebar-wrapper">
            <input type="checkbox" class="sidebar-button">
            <span class="sidebar-button-front">
                <svg viewBox="0 0 100 80" width="40" height="40">
                    <rect width="100" height="20" rx="10"></rect>
                    <rect y="30" width="100" height="20" rx="10"></rect>
                    <rect y="60" width="100" height="20" rx="10"></rect>
                </svg>
                <svg width="800px" height="800px" viewBox="0 0 1024 1024" xmlns="http://www.w3.org/2000/svg"><path stroke="#000000" d="M195.2 195.2a64 64 0 0 1 90.496 0L512 421.504 738.304 195.2a64 64 0 0 1 90.496 90.496L602.496 512 828.8 738.304a64 64 0 0 1-90.496 90.496L512 602.496 285.696 828.8a64 64 0 0 1-90.496-90.496L421.504 512 195.2 285.696a64 64 0 0 1 0-90.496z"></path></svg>
            </span>
            <div class="sidebar">
                <li class="sidebar-list-item even"><a href="/wiki/index.html" class="even">Home</a></li>
<li class="sidebar-list-item odd"><a href="/wiki/How to navigate the engine.html" class="odd">How to navigate the engine</a></li>
<li class="sidebar-list-item even"><a href="/wiki/Differences between the other FNF engines.html" class="even">Differences between other FNF engines</a></li>
<li class="sidebar-list-item odd"><a href="/wiki/Modding The Engine/index.html" class="odd">Modding The Engine</a><ul class="sidebar-unordered-list odd">
<li class="sidebar-list-item even"><a href="/wiki/Modding The Engine/Creating songs/index.html" class="even">Creating songs</a><ul class="sidebar-unordered-list even">
<li class="sidebar-list-item odd"><a href="/wiki/Modding The Engine/Creating songs/Chart Editor Features.html" class="odd">Chart Editor Features</a></li>
</ul>
</li>
<li class="sidebar-list-item even"><a href="/wiki/Modding The Engine/Creating characters/index.html" class="even">Creating characters</a><ul class="sidebar-unordered-list even">
<li class="sidebar-list-item odd"><a href="/wiki/Modding The Engine/Creating characters/Character Editor Features.html" class="odd">Character Editor Features - <span style="color: #FF0000;">UNFINISHED</span></a></li>
</ul>
</li>
<li class="sidebar-list-item even"><a href="/wiki/Modding The Engine/Creating stages.html" class="even">Creating stages</a></li>
<li class="sidebar-list-item odd"><a href="/wiki/Modding The Engine/Cutscenes or Dialogues.html" class="odd selected">Cutscenes/Dialogues</a></li>
<li class="sidebar-list-item even"><a href="/wiki/Modding The Engine/Scripting/index.html" class="even">Scripting</a><ul class="sidebar-unordered-list even">
<li class="sidebar-list-item odd"><a href="/wiki/Modding The Engine/Scripting/PlayState Scripts/index.html" class="odd">PlayState Scripts</a><ul class="sidebar-unordered-list odd">
<li class="sidebar-list-item even"><a href="/wiki/Modding The Engine/Scripting/PlayState Scripts/Gameplay Scripts.html" class="even">Gameplay Scripts</a></li>
<li class="sidebar-list-item odd"><a href="/wiki/Modding The Engine/Scripting/PlayState Scripts/Events or Notetype Scripts.html" class="odd">Events/Notetype Scripts</a></li>
<li class="sidebar-list-item even"><a href="/wiki/Modding The Engine/Scripting/PlayState Scripts/Cutscenes or Dialogue Scripts.html" class="even">Cutscenes/Dialogue Scripts - <span style="color: #FF0000;">UNFINISHED</span></a></li>
<li class="sidebar-list-item odd"><a href="/wiki/Modding The Engine/Scripting/PlayState Scripts/Character or Stage Scripts.html" class="odd">Character/Stage Scripts</a></li>
<li class="sidebar-list-item even"><a href="/wiki/Modding The Engine/Scripting/PlayState Scripts/Pause or Game Over Scripts.html" class="even">Pause/Game Over Scripts</a></li>
</ul>
</li>
<li class="sidebar-list-item odd"><a href="/wiki/Modding The Engine/Scripting/State or Substate Scripts.html" class="odd">State/Substate Scripts</a></li>
<li class="sidebar-list-item even"><a href="/wiki/Modding The Engine/Scripting/Global Scripts.html" class="even">Global Scripts</a></li>
<li class="sidebar-list-item odd"><a href="/wiki/Modding The Engine/Scripting/Shaders.html" class="odd">Shaders</a></li>
<li class="sidebar-list-item even"><a href="/wiki/Modding The Engine/Scripting/Using hxvlc for videos.html" class="even">Using hxvlc for videos</a></li>
<li class="sidebar-list-item odd"><a href="/wiki/Modding The Engine/Scripting/Custom Options.html" class="odd">Custom Options</a></li>
<li class="sidebar-list-item even"><a href="/wiki/Modding The Engine/Scripting/Custom Classes.html" class="even">Custom Classes</a></li>
<li class="sidebar-list-item odd"><a href="/wiki/Modding The Engine/Scripting/3D rendering.html" class="odd">3D rendering - <span style="color: #FF0000;">UNFINISHED</span></a></li>
<li class="sidebar-list-item even"><a href="/wiki/Modding The Engine/Scripting/All of the script calls.html" class="even">All of the script calls - <span style="color: #FF0000;">UNFINISHED</span></a></li>
<li class="sidebar-list-item odd"><a href="/wiki/Modding The Engine/Scripting/Useful script snippets for modders.html" class="odd">Useful script snippets for modders - <span style="color: #FF0000;">UNFINISHED</span></a></li>
<li class="sidebar-list-item even"><a href="/wiki/Modding The Engine/Scripting/Scripted Assets Libraries.html" class="even">Scripted Assets Libraries - <span style="color: #FF0000;">UNFINISHED</span></a></li>
<li class="sidebar-list-item odd"><a href="/wiki/Modding The Engine/Scripting/NDLL Scripting.html" class="odd">NDLL Scripting - <span style="color: #FF0000;">UNFINISHED</span></a></li>
</ul>
</li>
<li class="sidebar-list-item even"><a href="/wiki/Modding The Engine/Hardcoding/index.html" class="even">Hardcoding - <span style="color: #FF0000;">UNFINISHED</span></a></li>
</ul>
</li>

            </div>
        </div>

        <div class="content">
            <h1>Cutscenes and dialogues.</h1>
<h2>Cutscenes</h2>
<p>Making Cutscenes is easy, either drop an .mp4 file in <code class="inline-code">./videos</code> with the name of the song followed by <code class="inline-code">-cutscene</code> at the end, or drop it in the corresponding song folder and simply name it <code class="inline-code">cutscene.mp4</code></p>
<p><img src="./Cutscenes or Dialogues.png"></p>
<p>You can also put an <code class="inline-code">-end</code> before <code class="inline-code">-cutscene</code> to make that cutscene appear at the end of the song.</p>
<h2>Dialogues</h2>
<p>Codename Engine also supports Dialogues, though there's a lot to unwrap here, so please read with patience.</p>
<p>Making a basic dialogue is done by making a file called <code class="inline-code">dialogue.xml</code> in the corresponding song folder, and the content should look something like this:</p>
<pre class="hljs"><code class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">dialogue</span> <span class="hljs-attr">box</span>=<span class="hljs-string">"default"</span>&gt;</span>
    <span class="hljs-comment">&lt;!-- All characters --&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">char</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"dad"</span> <span class="hljs-attr">position</span>=<span class="hljs-string">"left"</span> /&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">char</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"girlfriend"</span> <span class="hljs-attr">position</span>=<span class="hljs-string">"middle"</span> /&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">char</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"boyfriend"</span> <span class="hljs-attr">position</span>=<span class="hljs-string">"right"</span> /&gt;</span>

    <span class="hljs-comment">&lt;!-- Lines --&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">line</span> <span class="hljs-attr">char</span>=<span class="hljs-string">"dad"</span>&gt;</span>
        yo its me your <span class="hljs-tag">&lt;<span class="hljs-name">format</span> <span class="hljs-attr">color</span>=<span class="hljs-string">"#FF0000"</span>&gt;</span>enemy!<span class="hljs-tag">&lt;/<span class="hljs-name">format</span>&gt;</span> how are you
    <span class="hljs-tag">&lt;/<span class="hljs-name">line</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">line</span> <span class="hljs-attr">char</span>=<span class="hljs-string">"boyfriend"</span>&gt;</span>
        shut up u stupid bitch
        ur useless af!!! loser!
    <span class="hljs-tag">&lt;/<span class="hljs-name">line</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">line</span> <span class="hljs-attr">char</span>=<span class="hljs-string">"girlfriend"</span>&gt;</span>
        agreed
    <span class="hljs-tag">&lt;/<span class="hljs-name">line</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">dialogue</span>&gt;</span>
</code></pre>
<p>This dialogue covers all types of characters <em>(only having 3 types of positions)</em>.</p>
<p>Starting with the <code class="inline-code">dialogue</code> node, it only has 2 parameters:</p>
<ul>
<li><code class="inline-code">box</code> which, well, determines the textbox that it should use.</li>
<li><code class="inline-code">forceBoxDefaultTxtSound</code> which overrides all text sounds and applies the default one.</li>
</ul>
<p>For the <code class="inline-code">char</code> node, it has the following parameters:</p>
<ul>
<li><code class="inline-code">name</code> determines which character to introduce.</li>
<li><code class="inline-code">position</code> determines the position which the character stays on.</li>
<li><code class="inline-code">textSound</code> determines what sound the character should play when it speaks. <em>(takes from the <code class="inline-code">./sounds</code> folder)</em></li>
<li><code class="inline-code">defaultAnim</code> i have no idea what that is bro</li>
</ul>
<p>As for the <code class="inline-code">line</code> node, the example shows it's default usage, so the next parameters are mostly for advanced usage:</p>
<ul>
<li><code class="inline-code">bubble</code> determines the animation the textbox should play.</li>
<li><code class="inline-code">callback</code> determines what function to call in a Dialogue Script <em>(see <a href="./Scripting/PlayState Scripts/Cutscenes or Dialogue Scripts.html">Cutscenes/Dialogue Scripts</a>)</em></li>
<li><code class="inline-code">changeDefAnim</code> to play a different animation for the character <em>(<code class="inline-code">changeDefAnim="scared"</code>)</em>.</li>
<li><code class="inline-code">speed</code> is the typing speed <em>(default is <code class="inline-code">0.05</code>)</em>.</li>
<li><code class="inline-code">musicVolume</code> changes the music volume <em>(default is <code class="inline-code">0.8</code>)</em></li>
<li><code class="inline-code">changeMusic</code> determines what song to change to.</li>
<li><code class="inline-code">playSound</code> is the sound that plays once you proceed to the next line.</li>
<li><code class="inline-code">nextSound</code> also plays a sound once you proceed to the next line. <em>(I really can't figure out why this exists)</em></li>
</ul>
<p>The <code class="inline-code">line</code> node also accepts <code class="inline-code">format</code> children, to format different parts of the text. The parameters are:</p>
<ul>
<li><code class="inline-code">color</code> for coloring.</li>
<li><code class="inline-code">font</code> to change the font of the text.</li>
</ul>
<h3>Setting up Dialogue Characters.</h3>
<p>After realizing how to basically make a dialogue, you can now start adding custom characters besides the default ones.</p>
<p>You can start by making an XML file with the character's corresponding name and put it in <code class="inline-code">./data/dialogue/characters/</code>.</p>
<p>Here's what Boyfriend's data looks like:</p>
<pre class="hljs"><code class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">character</span> <span class="hljs-attr">x</span>=<span class="hljs-string">"285"</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">anim</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"normal"</span> <span class="hljs-attr">anim</span>=<span class="hljs-string">"normal"</span> <span class="hljs-attr">fps</span>=<span class="hljs-string">"24"</span> /&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">character</span>&gt;</span>
</code></pre>
<p>We'll quickly go through the parameters here, for <code class="inline-code">character</code>:</p>
<ul>
<li><code class="inline-code">name</code> which defines the internal name used for scripting.</li>
<li><code class="inline-code">x</code> and <code class="inline-code">y</code> define it's position in-game.</li>
<li><code class="inline-code">sprite</code> is the name of the sprite in the files. <em>(keep in mind if you set this to point to a sparrow spritesheet it will automatically make an animation of all the frames in the spritesheet)</em></li>
<li><code class="inline-code">textSound</code> determines what sound the character should play when it speaks. <em>(takes from the <code class="inline-code">./sounds</code> folder)</em></li>
</ul>
<p>Other options include:</p>
<ul>
<li><code class="inline-code">skewx</code> and <code class="inline-code">skewy</code> skewes the sprite.</li>
<li><code class="inline-code">antialiasing</code> determines whether or not the sprite has antialiasing. <em>(true by default)</em></li>
<li><code class="inline-code">width</code> and <code class="inline-code">height</code> determine the width and height of the sprite's hitbox. <em>(does not affect the sprite itself)</em></li>
<li><code class="inline-code">scale</code>, <code class="inline-code">scalex</code> and <code class="inline-code">scaley</code> are size multipliers for the sprite's width and height. <em>(setting it to 2 means double the size)</em></li>
<li><code class="inline-code">graphicSize</code>, <code class="inline-code">graphicSizex</code> and <code class="inline-code">graphicSizey</code> determine the width and height of the sprite.</li>
<li><code class="inline-code">updateHitbox</code> determines whether or not to update the sprite's hitbox.</li>
<li><code class="inline-code">alpha</code> is the "opacity" of the sprite</li>
<li><code class="inline-code">color</code> tints the sprite in the color you set it to <em>(example #FF0000 will tint the sprite in full red)</em></li>
<li><code class="inline-code">playOnCountdown</code> tells the sprite whether or not to play it's animation during countdown or not.</li>
<li><code class="inline-code">beatInterval, beatOffset</code>, honestly, I don't even know what this shit is okay.</li>
</ul>
<p>As for the <code class="inline-code">anim</code> nodes, these are the parameters:</p>
<ul>
<li><code class="inline-code">name</code> defines the internal name of the animation <em>(used for scripting)</em></li>
<li><code class="inline-code">anim</code> is the prefix for finding the animation in the spritesheet.</li>
<li><code class="inline-code">indices</code> indicates which frames to play from the previously found frames.</li>
<li><code class="inline-code">type</code> determines the type of the animation. either <code class="inline-code">beat</code> or <code class="inline-code">loop</code>.</li>
<li><code class="inline-code">fps</code> is the framerate of your animation.</li>
<li><code class="inline-code">x</code> and <code class="inline-code">y</code> are the animation offset. <em>(offset is only applied when the animation is played)</em></li>
<li><code class="inline-code">forced</code> whether or not to force animation playback while a different one is already playing.</li>
<li><code class="inline-code">loop</code> to make your animation loop.</li>
</ul>
<p><em>(if you think this is familiar yes this is basically the same as making a sprite in a stage.)</em></p>
<h3>Setting up Dialogue Boxes.</h3>
<p>If you feel like also customizing boxes, fret not because you can also change that as well. <em>(although this is gonna be a bit more advanced than the last 2)</em></p>
<p>You can start by making an XML file with the box's corresponding name and put it in <code class="inline-code">./data/dialogue/boxes/</code>.</p>
<p>The default box's XML data looks like this:</p>
<pre class="hljs"><code class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">dialoguebox</span> <span class="hljs-attr">y</span>=<span class="hljs-string">"75"</span>&gt;</span>
    <span class="hljs-comment">&lt;!--
        Node containing all text settings
    --&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">text</span> <span class="hljs-attr">font</span>=<span class="hljs-string">"vcr.ttf"</span> <span class="hljs-attr">x</span>=<span class="hljs-string">"107"</span> <span class="hljs-attr">y</span>=<span class="hljs-string">"206"</span> <span class="hljs-attr">width</span>=<span class="hljs-string">"1053"</span> <span class="hljs-attr">color</span>=<span class="hljs-string">"#000000"</span> <span class="hljs-attr">size</span>=<span class="hljs-string">"40"</span>/&gt;</span>

    <span class="hljs-comment">&lt;!--
        All positions for characters
    --&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">charpos</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"left"</span> <span class="hljs-attr">x</span>=<span class="hljs-string">"-500"</span> <span class="hljs-attr">y</span>=<span class="hljs-string">"184"</span> <span class="hljs-attr">flipBubble</span>=<span class="hljs-string">"true"</span> /&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">charpos</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"middle"</span> <span class="hljs-attr">x</span>=<span class="hljs-string">"0"</span> <span class="hljs-attr">y</span>=<span class="hljs-string">"184"</span> /&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">charpos</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"right"</span> <span class="hljs-attr">x</span>=<span class="hljs-string">"500"</span> <span class="hljs-attr">y</span>=<span class="hljs-string">"184"</span> /&gt;</span>

    <span class="hljs-comment">&lt;!--
        All animations for the dialogue box
        For example, if you wanna add an "angry" animation, add an animation named "angry" (box idle), and "angry-open" (not needed, for box apparition)
    --&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">anim</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"normal"</span> <span class="hljs-attr">anim</span>=<span class="hljs-string">"speech bubble normal"</span> <span class="hljs-attr">fps</span>=<span class="hljs-string">"24"</span> <span class="hljs-attr">loop</span>=<span class="hljs-string">"true"</span> <span class="hljs-attr">x</span>=<span class="hljs-string">"-30"</span>/&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">anim</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"normal-open"</span> <span class="hljs-attr">anim</span>=<span class="hljs-string">"Speech Bubble Normal Open"</span> <span class="hljs-attr">fps</span>=<span class="hljs-string">"24"</span> /&gt;</span>

    <span class="hljs-tag">&lt;<span class="hljs-name">anim</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"angry"</span> <span class="hljs-attr">anim</span>=<span class="hljs-string">"AHH speech bubble"</span> <span class="hljs-attr">fps</span>=<span class="hljs-string">"24"</span> <span class="hljs-attr">loop</span>=<span class="hljs-string">"true"</span> <span class="hljs-attr">y</span>=<span class="hljs-string">"60"</span>/&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">anim</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"angry-open"</span> <span class="hljs-attr">anim</span>=<span class="hljs-string">"speech bubble loud open"</span> <span class="hljs-attr">fps</span>=<span class="hljs-string">"24"</span>  <span class="hljs-attr">y</span>=<span class="hljs-string">"60"</span>/&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">dialoguebox</span>&gt;</span>
</code></pre>
<p>There's a lot to unpack but we'll go over each step in understanding this.</p>
<p>The <code class="inline-code">dialoguebox</code> node parameters and also the <code class="inline-code">anim</code> node parameters are exactly like the Dialogue Character ones <em>(such as <code class="inline-code">sprite</code> for dialoguebox)</em>, so we'll skip those. <em>(keep in mind if you make an animation with an <code class="inline-code">-open</code> at the end it will be used as an opening animation)</em>.</p>
<p>For the <code class="inline-code">text</code> node, which is required for this Dialogue Box to be considered valid, has the following parameters:</p>
<ul>
<li><code class="inline-code">x</code> and <code class="inline-code">y</code> to change the positioning of the text in the box.</li>
<li><code class="inline-code">width</code> to determine the width of the field.</li>
<li><code class="inline-code">color</code> for coloring the text.</li>
<li><code class="inline-code">size</code> to determine the size of the text <em>(default is <code class="inline-code">20</code>)</em>.</li>
<li><code class="inline-code">font</code> to determine the font that the text should use <em>(picks up the font from <code class="inline-code">./fonts</code>)</em>.</li>
<li><code class="inline-code">antialiasing</code> to determine whether or not your text should use antialiasing.</li>
<li><code class="inline-code">borderStyle</code> determines if it has a border and which type of border the text should use <em>(<code class="inline-code">outline</code>, <code class="inline-code">shadow</code>, <code class="inline-code">outline_fast</code> or <code class="inline-code">none</code>)</em>.
<ul>
<li><code class="inline-code">borderQuality</code> for determining the quality of the border.</li>
<li><code class="inline-code">shadowOffsetX</code> and <code class="inline-code">shadowOffsetY</code> for offseting the shadow <em>(if selected that style)</em>.</li>
<li><code class="inline-code">borderSize</code> for sizing the border.</li>
<li><code class="inline-code">borderColor</code> for coloring the border.</li>
</ul></li>
</ul>
<p>Now, for the <code class="inline-code">charpos</code> node, it's pretty simple, these are the parameters:</p>
<ul>
<li><code class="inline-code">name</code> is the name of the position.</li>
<li><code class="inline-code">x</code> and <code class="inline-code">y</code> is for the position itself, i guess.</li>
<li><code class="inline-code">flipBubble</code> determines if the Dialogue Box itself should flip for the character.</li>
</ul>

        </div>
    </div>

</body></html>